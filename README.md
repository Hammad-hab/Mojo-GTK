## Mojo-GTK
Auto generated GTK bindings for mojo

### Scripts
- `descriptgen.py`: Generates a json file with the functions,structs and enums.
- `bindgen.py`: Uses the json file generated by descriptgen to create `gtk.mojo` which contains all the appropriate struct and function declarations

### Using Mojo-GTK
All functions and types are bear a similar or exactly same name as their c gtk counterpart. For structs however "GTK" has been prepended to their name. For instance, a struct named `GdkRGBA` is called `GTKRGBA` in Mojo-GTK.
There are multiple demos in `/gtk-demos`:
- `animations.mojo`
- `new_dialogs.mojo`
- `dialogs.mojo`
- `image.mojo`
- `listview.mojo`
- `forms.mojo`
- `layout.mojo`
- `opengl.mojo`
- `widgetzoo.mojo`
- `widgetzoo2.mojo`
- `old_gtk3_sample.mojo`
- `editor.mojo`
- `main.mojo`

#### Note Regarding Function Pointers
Passing function pointers (especially when binding event handler callbacks) can be cumbersome since Mojo (at least right now) does not support a proper way to make a C-compatible function pointer. The only thing that comes close is a `@register_passable("trivial")` struct with a static method. 

As a result, passing function pointers works in the following manner:
- Create a static method in a `@register_passable("trivial")` struct
- rebind or bitcast as an opaque pointer (`ptr`, see the demos)

Example:
```python

@register_passable('trivial')
struct App:

    @staticmethod
    fn activate(app: GTKInterface, gptr: GTKInterface):
        # functions


var gtk_compatible = rebind[GTKInterface](App.activate)
```

See the demos for more samples and usage help.


### Setup and usage
- install gtk on your system
- make sure your pixi.toml contains the appropriate library paths for `MODULAR_MOJO_MAX_SYSTEM_LIBS` (see pixi.toml for reference, this usually includes the output of `pkg-config --libs gtk4`)
- use mojo build (currently the code uses `external_call` so mojo run doesn't work that well yet)


### Contributing

If you feel like contributing, feel free to drop a PR regarding any issue you find or a feature you feel should be a part of the project.